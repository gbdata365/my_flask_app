# 기업통계등록부 이용자 안내

## 개요

기업통계등록부(Statistical Business Registers, SBR)는 한국의 모든 기업과 사업체에 대한 기본 정보를 체계적으로 수집하고 관리하는 통계 인프라입니다.

통계청에서 운영하는 이 시스템은 기업의 변동 사항을 실시간으로 추적하여 정확하고 신뢰할 수 있는 기업 통계를 생산하는 기반을 제공합니다.

## 주요 개선 사항(2025년)

### 표준화 향상

기존 문제: 행정안전부의 공공데이터를 기반으로 한 기관별 체계가 상이

개선 방향:
- 표준화 및 전용 항목 확립으로 통계 품질 향상
- 건강보험 기반의 직장가입자 보수 충족액 추가 제공

### 신규 항목

- 건강보험 보수충족액 (2010년부터 제공)
- 외국인 종사자 정보 (성별과 종사자위별 상세)

## 시스템 구성

### 기업통계등록부의 범위

대상: 전체 산업에 걸친 공공 및 민간, 영리와 비영리 기관과 관계없이 행정자료와 통계조사를 통해 수집된 모든 기업

포함 범위:
- 기업단위의 모집단 자료
- 사업체 단위의 세부 정보
- 종사자, 매출액, 산업분류 등 핵심 통계 항목

### 작성 단위 구조

1. 법과 행정단위: 기업집단(Enterprise group) > 기업(Enterprise) > 사업체(Establishment)
2. 통계단위: 기업단위 > 기업 > 사업체의 3단계 구조로 구성

## 주요 제공 항목

### 기본 정보
- 기업(사업체) 기본현황: 기준연도, 기업명, 사업자등록번호, 산업분류 등
- 대표자: 성별, 출생연도 등
- 주소: 행정구역분류코드, 시도, 시군구명 등
- 조직: 조직구분, 조직형태, 공공기관 유형 등

### 특성 정보
- 종사자: 남/녀, 상용/임시·일용, 외국인 종사자 수, 매출액, 산업분류 등
- 매출액: 법인세 손익일반 매출액과 손익금을 영업수익으로 작성
- 기업 규모: 대기업, 중견기업, 중소기업 등으로 분류

## 제공 방법

### 데이터 분류
1. **명부**: 사업자등록번호를 기준으로 사업자등록, 법인세 등 행정자료와 전국사업체조사 등 조사자료를 연계하여 작성
2. **기본항목**: 135개 항목 제공 (연간)
3. **특성항목**: 51개 항목 제공 (분기)

### 제공 형태
- **외부제공 항목**: 이용목적(명부 추출용, 데이터분석용)에 따라 제공항목 다름
- **조사명별 맞춤 항목**: 기본항목과 조사별 추출용 항목을 구분하여 제공
- **예비표본 포함**: 표본의 3배수 제공(예비표본 포함)

## 이용시 참고사항

### 작성 기준
- **연간**: 기준연도 12월 자료로, 연 1회 구축 및 제공
- **분기**: 기준연도 3, 6, 9, 12월 자료로, 연 4회 구축 및 제공
- **월간**: 기준월 자료로, 연 12회 구축 및 제공

### 산업분류 변경사항
- **결정 원칙**: 부가가치(예: 수립된 산업활동을 하는 경우 부가가치지(액) 기준으로 작성
- **작용 완화**: 분기별 매출액 작성은 일부만 해당되므로 분기별 매출액으로 작성
- **제공 범위**: 기업단위로만 조사, 충사자 수는 최근 분기 자료를 사용함

### 제공 제한사항
- **일부 항목 공란(null)**: 입수된 원 행정자료 상 공란(null)으로 인해 자료의 값이 존재하지 않는 경우
- **행정자료 특성**: 분기 및 월간 행정자료만으로 구축되어 사업자등록번호 공란(null)이 존재

## 활용 사례

### 모집단으로 활용
- 중견기업 기업통계, 모집단 기업통계재 등에서 통계 생성의 효율성 제고
- 다양한 분야에서 통계 생성과 관련한 기업 정보 활용

### 통계 개선
- 농업법인조사 조사대상 '실질 운영진' 농업법인으로 표본할당 개선
- 농식품부 농업법인조사 소관부서가 통계청과 소속되어 모집단 확대

### 신규통계 개발
- 경기도 고용노동청을 위해 통계청과 '영세자영업자 경영현황' 개발 추진
- 부산 부산시 소상공인 맞춤형 정책수립, '부산광역시 소상공인통계'개발 추진

## 기업통계등록부 분석 대시보드 시스템

### 개요
본 프로젝트는 기업통계등록부 데이터를 활용한 종합 분석 대시보드 시스템입니다. matplotlib/seaborn 기반의 고품질 차트 생성과 다중 선택 기능, PDF 내보내기 등의 고급 기능을 제공합니다.

### 시스템 구성

#### 1. 파일 구조
```
1_giup/
├── routes/
│   ├── dash1.py          # 메인 대시보드 (matplotlib 버전)
│   ├── dash1_backup.py   # Plotly 백업 버전
│   └── dash2.py          # 경상북도 전용 대시보드
├── data/
│   ├── 집계표_202212.xlsx    # 2022년 12월 집계표
│   ├── 집계표_202312.xlsx    # 2023년 12월 집계표
│   ├── 집계표_202412.xlsx    # 2024년 12월 집계표
│   └── 복사본 기업통계등록부.xlsx  # 원본 데이터
├── static/               # 정적 파일 (CSS, JS, 이미지)
├── templates/           # HTML 템플릿
├── html_docs/          # HTML 문서
└── markdown_docs/      # 마크다운 문서
```

#### 2. 주요 기능

##### 데이터 로딩 및 처리
- **자동 파일 감지**: `집계표_YYYYMM.xlsx` 패턴 자동 인식
- **다중 년도/월 지원**: 2-3년치 월별 데이터 통합 처리
- **데이터 전처리**: 특수문자 처리, 결측값 보정, 데이터 타입 변환

##### 차트 시각화 (matplotlib/seaborn)
- **막대 차트**: 시도별, 구분별 상위 N개 데이터 표시
- **파이 차트**: 구성비 분석 (상위 10개 + 기타)
- **시계열 차트**: 3개년 추이 분석
- **다중 카테고리 비교**: 여러 분석 유형 동시 비교

##### 분석 유형
1. **기본 분석**: 시도별 분포 분석
2. **폐업 구분 분석**: 사업부진, 행정처분, 계절사유, 법인전환, 기타
3. **기업 유형 분석**: 개인사업자, 법인사업자, 회사법인 등
4. **산업 구분 분석**: 농업, 제조업, 서비스업 등 19개 대분류

##### 고급 기능
- **다중 선택**: 시도 및 분석 유형 다중 선택 가능
- **동적 필터링**: 년도, 월, 지역별 실시간 필터링
- **PDF 내보내기**: 분석 결과를 PDF로 저장 (사용자 정의 파일명)
- **비교 분석**: 선택한 여러 카테고리 동시 비교

### 사용법

#### 1. 서버 실행
```bash
cd C:\Users\user\00_claude_project\project
python main_app.py
```

#### 2. 대시보드 접속
- URL: `http://localhost:5000/1_giup/dash1`
- 브라우저에서 실시간 대시보드 확인

#### 3. 주요 조작 방법

##### 필터 설정
- **분석 년도**: 전체 또는 특정 년도 선택
- **분석 월**: 전체 또는 특정 월 선택
- **시도 선택**: 다중 선택 가능 (Select2 라이브러리 사용)
- **분석 지표**: 기업체수, 근로자수, 매출액 등
- **분석 유형**: 기본, 폐업구분, 기업유형, 산업구분 다중 선택

##### 차트 보기
- **시도별 분석**: 막대 차트 + 파이 차트 조합
- **구분별 분석**: 각 유형별 전용 차트
- **시계열 분석**: 년도별 추이 그래프
- **비교 분석**: 다중 카테고리 동시 비교

##### PDF 내보내기
1. "PDF 저장" 버튼 클릭
2. 파일명 입력 (확장자 자동 추가)
3. 저장 경로 설정
4. "저장" 클릭으로 PDF 생성

### 기술 스택

#### 백엔드
- **Python 3.x**: 메인 개발 언어
- **Flask**: 웹 프레임워크
- **pandas**: 데이터 처리
- **numpy**: 수치 연산
- **matplotlib**: 차트 생성
- **seaborn**: 고급 시각화
- **reportlab**: PDF 생성

#### 프론트엔드
- **Bootstrap 5**: UI 프레임워크
- **jQuery**: JavaScript 라이브러리
- **Select2**: 다중 선택 UI 컴포넌트
- **Font Awesome**: 아이콘

#### 데이터
- **Excel (xlsx)**: 기본 데이터 포맷
- **JSON**: 프론트엔드-백엔드 통신
- **Base64**: 이미지 인코딩

### 성능 최적화

#### 차트 생성
- **메모리 관리**: matplotlib figure 자동 해제
- **이미지 압축**: PNG 최적화 (DPI 150)
- **캐싱**: 차트 데이터 임시 저장

#### 데이터 처리
- **지연 로딩**: 필요시에만 차트 생성
- **데이터 필터링**: 불필요한 데이터 사전 제거
- **타입 변환**: JSON 직렬화 최적화

### 한글 폰트 설정
```python
# matplotlib 한글 폰트 설정
plt.rcParams['font.family'] = ['Malgun Gothic', 'DejaVu Sans']
plt.rcParams['axes.unicode_minus'] = False
sns.set_style("whitegrid")
```

### 오류 처리

#### 일반적인 문제
1. **데이터 파일 없음**: 빈 차트 표시 및 안내 메시지
2. **JSON 직렬화 오류**: 자동 타입 변환 처리
3. **메모리 부족**: 차트별 메모리 해제
4. **한글 깨짐**: 폰트 설정 자동 적용

#### 디버깅
- 콘솔 로그 확인: `python main_app.py` 실행 후 터미널 메시지
- 브라우저 개발자 도구: Network 탭에서 API 응답 확인

### 확장 가능성

#### 추가 가능한 기능
1. **실시간 업데이트**: 데이터 자동 갱신
2. **사용자 인증**: 접근 권한 관리
3. **데이터베이스 연동**: MySQL/PostgreSQL 연결
4. **모바일 최적화**: 반응형 디자인 개선
5. **API 제공**: REST API 엔드포인트 추가

#### 데이터 확장
- 추가 지표: 고용보험, 국민연금 데이터 연계
- 시계열 확장: 5년 이상 장기 데이터 분석
- 지역 세분화: 시군구 단위 상세 분석

## 문의 및 이용 방법
- **홈페이지**: data.kostat.go.kr 통계데이터센터(SDC) 이용절차
- **이용절차**: 이용신청서 작성, 자료제공여부 검토, 최종매정 이용 결제
- **자료보호 및 개인정보 보호**: 통계법과 개인정보보호법에 따른 철저한 관리

## 기술 지원
- **시스템 문의**: 대시보드 시스템 관련 기술 지원
- **데이터 문의**: 기업통계등록부 데이터 해석 및 활용법
- **개발 문의**: 추가 기능 개발 및 커스터마이징

---
*본 자료는 통계청 기업통계등록부 이용자 안내서(2025년)와 자체 개발한 분석 대시보드 시스템을 바탕으로 작성되었습니다.*