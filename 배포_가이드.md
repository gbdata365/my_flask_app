# 🚀 Flask 프로젝트 배포 가이드

## 📋 개요
이 가이드는 Flask 기반 데이터 분석 대시보드를 GitHub에 업로드하고 CloudType에 배포하는 방법을 설명합니다.

---

## 🔧 1단계: GitHub 업로드 (자동화)

### 📂 준비사항
- `git_deploy_fixed.bat` 파일이 프로젝트 루트에 있는지 확인
- GitHub 계정 및 저장소 준비

### ▶️ 실행 방법
1. **프로젝트 폴더에서 명령창 열기**
   - 프로젝트 폴더 (`C:\Users\user\00_claude_project\project`) 에서
   - 주소창에 `cmd` 입력 후 Enter

2. **배포 스크립트 실행**
   ```cmd
   git_deploy_fixed.bat
   ```

3. **단계별 진행**
   - **[0단계]** Git 사용자 정보 자동 설정
   - **[1단계]** Git 저장소 초기화
   - **[2단계]** 원격 저장소 URL 입력 (기본값: Enter로 넘어가기)
   - **[3단계]** 파일 자동 스테이징
   - **[4단계]** 커밋 메시지 입력 (기본값 사용 시 Enter)
   - **[5단계]** GitHub 자동 업로드

### ⚠️ 문제 해결
- **인증 오류 시**: GitHub Desktop으로 로그인 또는 웹에서 GitHub 로그인 확인
- **저장소 없음**: GitHub에서 `my_flask_app` 저장소 미리 생성

---

## ☁️ 2단계: CloudType 배포

### 🌐 CloudType 접속
1. [CloudType 웹사이트](https://cloudtype.io) 접속
2. GitHub 계정으로 로그인

### 📦 새 프로젝트 생성
1. **"새 프로젝트"** 버튼 클릭
2. **"GitHub 연동"** 선택
3. **저장소 선택**: `gbdata365/my_flask_app` 선택
4. **브랜치**: `main` 선택

### ⚙️ 빌드 설정
```
Build Command: (빈칸으로 둠)
Start Command: python main_app.py
Port: 5000
```

### 🔐 환경변수 설정 (선택사항)
MySQL 사용 시 다음 환경변수 추가:
```
DB_HOST=데이터베이스_호스트
DB_USER=데이터베이스_사용자명
DB_PASS=데이터베이스_비밀번호
DB_NAME=데이터베이스_이름
```

### 🚀 배포 실행
1. **"배포"** 버튼 클릭
2. 빌드 로그 확인
3. 배포 완료 후 제공되는 URL로 접속

---

## 📝 주요 파일 구조

```
프로젝트루트/
├── main_app.py              # Flask 메인 애플리케이션
├── git_deploy_fixed.bat     # GitHub 업로드 스크립트
├── module/
│   └── db_config.py        # 데이터베이스 설정
├── templates/              # HTML 템플릿
├── static/                 # 정적 파일 (CSS, JS)
└── 1_giup/                # 데이터 카테고리 폴더
    ├── routes/            # 라우트 파일들
    ├── data/              # Excel 데이터
    └── static/            # 카테고리별 정적 파일
```

---

## 🔄 업데이트 배포 방법

### 코드 수정 후 재배포
1. **파일 수정 완료**
2. **배포 스크립트 재실행**
   ```cmd
   git_deploy_fixed.bat
   ```
3. **CloudType 자동 배포 대기** (GitHub 푸시 감지 시 자동 재배포)

---

## ❓ 문제 해결

### GitHub 업로드 실패
- **인증 문제**: GitHub Desktop 로그인 확인
- **저장소 없음**: GitHub에서 저장소 수동 생성
- **네트워크 오류**: 인터넷 연결 확인

### CloudType 배포 실패
- **빌드 오류**: 빌드 로그에서 에러 메시지 확인
- **포트 오류**: Port 설정을 5000으로 확인
- **의존성 오류**: requirements.txt 파일 존재 확인

### 데이터베이스 연결 오류
- 환경변수 설정 확인
- CloudType MySQL 서비스 연동 확인
- 방화벽 설정 확인

---

## 📞 추가 도움

### 유용한 명령어
```cmd
# Git 상태 확인
git status

# 원격 저장소 확인
git remote -v

# 로그 확인
git log --oneline
```

### CloudType 고급 설정
- **Custom Domain**: 도메인 연결 가능
- **SSL 인증서**: 자동 Let's Encrypt 제공
- **모니터링**: CPU, 메모리 사용량 확인
- **로그 확인**: 실시간 애플리케이션 로그 확인

---

*이 가이드를 통해 손쉽게 Flask 애플리케이션을 클라우드에 배포하실 수 있습니다! 🎉*